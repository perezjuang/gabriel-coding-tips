<bean id="clientFactory"
		class="org.springframework.integration.mqtt.core.DefaultMqttPahoClientFactory">
	<property name="userName" value="${mqtt.username}"/>
	<property name="password" value="${mqtt.password}"/>
</bean>

<int-mqtt:message-driven-channel-adapter id="oneTopicAdapter"
	client-id="foo" 
	url="tcp://localhost:1883" 
	topics="bar" 3
	converter="myConverter" 
	client-factory="clientFactory" 
	send-timeout="123" 
	channel="out" />